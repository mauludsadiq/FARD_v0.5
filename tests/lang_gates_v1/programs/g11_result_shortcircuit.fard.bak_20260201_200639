import("std/result") as Result
import("std/list") as List

let step_ok = fn(x){ Result.ok(x+1) }
let step_err = fn(_x){ Result.err("fail") }
let step_never = fn(_x){ Result.ok(List.get([1], 10)) }

let r0 = Result.ok(0)
let r1 = Result.andThen(r0, step_ok)
let r2 = Result.andThen(r1, step_err)
Result.andThen(r2, step_never)
